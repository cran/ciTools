<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="John Haman and Matthew Avery" />

<meta name="date" content="2017-08-08" />

<title>Introducing ciTools</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">Introducing <code>ciTools</code></h1>
<h4 class="author"><em>John Haman and Matthew Avery</em></h4>
<h4 class="date"><em>August 8, 2017</em></h4>



<div id="overview" class="section level1">
<h1>Overview</h1>
<p>The purpose of <code>ciTools</code> is to make it easier to do common types of inference in R, particularly uncertainty bounds and probability and quantile estimates. These are the tools researchers use when comparing average system performance to requirements, bounding future system performance, and estimating whether the system will achieve specific thresholds that aren’t necessarily average performance. Specifically, <code>ciTools</code> gives users access to one-line commands that produce confidence intervals and prediction bounds for a given design matrix. This matrix can be the observed data from a test or a set of points that “span the space”, allowing the analyst to visualize system performance. For more information about spanning a design space in <strong>R</strong>, see <a href="https://www.rdocumentation.org/packages/modelr/versions/0.1.1/topics/data_grid">data_grid</a> or <a href="http://tidyr.tidyverse.org/reference/expand.html">crossing</a>.</p>
<p><code>ciTools</code> makes these statistical quantities available through a set of four functions that have a uniform syntax: <code>add_&lt;*&gt;(data, model, ...)</code>. Users only need to learn one expression to get started and can intuitively learn other functions when needed.</p>
</div>
<div id="links" class="section level1">
<h1>Links</h1>
<ol style="list-style-type: decimal">
<li><p>Another readme is available on our <a href="https://github.com/jthaman/ciTools">GitHub page</a>.</p></li>
<li><p>Do you have a problem with <code>ciTools</code> or a feature that you would like to see implemented? Create an Issue <a href="https://github.com/jthaman/ciTools/issues">on the bug tracker</a>.</p></li>
<li><p>Comprehensive documentation (with examples!) is available <a href="https://www.rdocumentation.org/packages/ciTools/versions/0.1.0">here</a></p></li>
<li><p>The main CRAN page for <code>ciTools</code> is <a href="https://cran.r-project.org/package=ciTools">here</a></p></li>
</ol>
</div>
<div id="using-citools" class="section level1">
<h1>Using <code>ciTools</code></h1>
<p>We designed <code>ciTools</code> to make it easy and convenient to generate intervals estimates when you’re done building a model. Since the exact formulation of a confidence interval depends on the type of statistical model fit, figuring out how to construct a proper confidence interval can be challenging. These functions automatically identify the correct interval for you, provided your model is one of the supported classes.</p>
<p>Here are the four main functions of <code>ciTools</code> that you can use regardless of the type of model you made:</p>
<ol style="list-style-type: decimal">
<li><code>add_ci(data, model, ...)</code> – compute confidence intervals for the fitted values of each row in <code>data</code> and append to <code>data</code>.</li>
<li><code>add_pi(data, model, ...)</code> – compute prediction intervals for the fitted values of each row in <code>data</code> and append to <code>data</code>.</li>
<li><code>add_probs(data, model, ...)</code> – compute conditional response probabilities for the fitted values of each row in <code>data</code> and append to <code>data</code>.</li>
<li><code>add_quantiles(data, model, ...)</code> – compute conditional response quantiles for the fitted values of each row in <code>data</code> and append to <code>data</code>.</li>
</ol>
<p>In each of the above functions, <code>model</code> is the model you’ve fit (of class <code>lm</code>, <code>glm</code>, or <code>lmerMod</code>, which correspond to models fit with the functions <code>lm</code>, <code>glm</code>, and <code>lmer</code> respectively), and <code>data</code> is the matrix of data points for which you’d like uncertainty estimates.</p>
<p>Each function returns <code>data</code> with your estimates appended to facilitate plotting with <code>ggplot</code>. For those familiar with the <code>modelr</code> package, they function the same way as <code>add_predictions</code>. Another advantage is to make all of these commands interoperable: they may be chained together to give all the quantities of interest at once.</p>
</div>
<div id="example" class="section level1">
<h1>Example</h1>
<p>Here we will feature a common linear model in <strong>R</strong> that uses the <code>cars</code> dataset. Uncertainty intervals in <strong>R</strong> for linear models are well supported through the functions <code>predict.lm</code>, so the functions we provide in <code>ciTools</code> are “wrappers” over <code>predict.lm</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">my_data &lt;-<span class="st"> </span>cars</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">glimpse</span>(my_data)</a></code></pre></div>
<pre><code>## Observations: 50
## Variables: 2
## $ speed &lt;dbl&gt; 4, 4, 7, 7, 8, 9, 10, 10, 10, 11, 11, 12, 12, 12, 12, 13...
## $ dist  &lt;dbl&gt; 2, 10, 4, 22, 16, 10, 18, 26, 34, 17, 28, 14, 20, 24, 28...</code></pre>
<p>A linear model that estimates stopping distance as a function of speed:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">model &lt;-<span class="st"> </span><span class="kw">lm</span>(dist <span class="op">~</span><span class="st"> </span>speed, <span class="dt">data =</span> cars)</a></code></pre></div>
<div id="confidence-intervals" class="section level2">
<h2>Confidence Intervals</h2>
<p>If we were interested in the average stopping distance as a function of speed, we can generate a confidence interval using <code>add_ci()</code>. The output is another data frame with three new columns: one for the model predictions, one for the lower confidence bound, and one for the upper confidence bound:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">my_data_with_ci &lt;-<span class="st"> </span><span class="kw">add_ci</span>(my_data, model, <span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;lcb&quot;</span>, <span class="st">&quot;ucb&quot;</span>))</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">kable</span>(<span class="kw">head</span>(my_data_with_ci, <span class="dt">n =</span><span class="dv">10</span>), <span class="dt">row.names =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">speed</th>
<th align="right">dist</th>
<th align="right">pred</th>
<th align="right">lcb</th>
<th align="right">ucb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">-1.849460</td>
<td align="right">-12.329543</td>
<td align="right">8.630624</td>
</tr>
<tr class="even">
<td>2</td>
<td align="right">4</td>
<td align="right">10</td>
<td align="right">-1.849460</td>
<td align="right">-12.329543</td>
<td align="right">8.630624</td>
</tr>
<tr class="odd">
<td>3</td>
<td align="right">7</td>
<td align="right">4</td>
<td align="right">9.947766</td>
<td align="right">1.678977</td>
<td align="right">18.216556</td>
</tr>
<tr class="even">
<td>4</td>
<td align="right">7</td>
<td align="right">22</td>
<td align="right">9.947766</td>
<td align="right">1.678977</td>
<td align="right">18.216556</td>
</tr>
<tr class="odd">
<td>5</td>
<td align="right">8</td>
<td align="right">16</td>
<td align="right">13.880175</td>
<td align="right">6.307527</td>
<td align="right">21.452823</td>
</tr>
<tr class="even">
<td>6</td>
<td align="right">9</td>
<td align="right">10</td>
<td align="right">17.812584</td>
<td align="right">10.905121</td>
<td align="right">24.720047</td>
</tr>
<tr class="odd">
<td>7</td>
<td align="right">10</td>
<td align="right">18</td>
<td align="right">21.744993</td>
<td align="right">15.461917</td>
<td align="right">28.028068</td>
</tr>
<tr class="even">
<td>8</td>
<td align="right">10</td>
<td align="right">26</td>
<td align="right">21.744993</td>
<td align="right">15.461917</td>
<td align="right">28.028068</td>
</tr>
<tr class="odd">
<td>9</td>
<td align="right">10</td>
<td align="right">34</td>
<td align="right">21.744993</td>
<td align="right">15.461917</td>
<td align="right">28.028068</td>
</tr>
<tr class="even">
<td>10</td>
<td align="right">11</td>
<td align="right">17</td>
<td align="right">25.677401</td>
<td align="right">19.964525</td>
<td align="right">31.390278</td>
</tr>
</tbody>
</table>
<p>The data and the model fit can be inspected graphically with <code>ggplot</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">my_data_with_ci <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> speed, <span class="dt">y =</span> dist)) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> pred), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;maroon&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="st">    </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> lcb, <span class="dt">ymax =</span> ucb), <span class="dt">fill =</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">    <span class="st">&quot;royalblue1&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;Stopping Distance vs. Car Speed: 95% Confidence Interval&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="st">    </span><span class="kw">xlab</span>(<span class="st">&quot;Car Speed (mph)&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;Stopping Distance (ft)&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The red line is the model’s estimated average stopping distance across the different car speeds, and the blue region represents the uncertainty in the average stopping distance. The default confidence level is 95 percent. Users who desire a different confidence level can use the option <code>alpha = *</code> to specify a custom level. For example, if 80 percent intervals are desired, then include <code>alpha = 0.2</code> in the <code>add_ci()</code> call.</p>
</div>
<div id="prediction-intervals" class="section level2">
<h2>Prediction Intervals</h2>
<p>Prediction intervals are similar to confidence intervals, but instead of conveying the uncertainty in the estimated average, prediction intervals convey the uncertainty in a new observation. There is more uncertainty about a single new observation than the average of all new observations, so prediction intervals are wider than confidence intervals. To generate prediction intervals, use <code>add_pi</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">my_data_with_pi &lt;-<span class="st"> </span><span class="kw">add_pi</span>(my_data, model, <span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;lpb&quot;</span>, <span class="st">&quot;upb&quot;</span>))</a></code></pre></div>
<p>The data frame is now larger because we have two new columns for lower and upper prediction bounds tacked on to the end:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">kable</span>(<span class="kw">head</span>(my_data_with_pi, <span class="dt">n =</span> <span class="dv">10</span>), <span class="dt">row.names =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">speed</th>
<th align="right">dist</th>
<th align="right">pred</th>
<th align="right">lpb</th>
<th align="right">upb</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">-1.849460</td>
<td align="right">-34.499842</td>
<td align="right">30.80092</td>
</tr>
<tr class="even">
<td>2</td>
<td align="right">4</td>
<td align="right">10</td>
<td align="right">-1.849460</td>
<td align="right">-34.499842</td>
<td align="right">30.80092</td>
</tr>
<tr class="odd">
<td>3</td>
<td align="right">7</td>
<td align="right">4</td>
<td align="right">9.947766</td>
<td align="right">-22.061423</td>
<td align="right">41.95696</td>
</tr>
<tr class="even">
<td>4</td>
<td align="right">7</td>
<td align="right">22</td>
<td align="right">9.947766</td>
<td align="right">-22.061423</td>
<td align="right">41.95696</td>
</tr>
<tr class="odd">
<td>5</td>
<td align="right">8</td>
<td align="right">16</td>
<td align="right">13.880175</td>
<td align="right">-17.956287</td>
<td align="right">45.71664</td>
</tr>
<tr class="even">
<td>6</td>
<td align="right">9</td>
<td align="right">10</td>
<td align="right">17.812584</td>
<td align="right">-13.872245</td>
<td align="right">49.49741</td>
</tr>
<tr class="odd">
<td>7</td>
<td align="right">10</td>
<td align="right">18</td>
<td align="right">21.744993</td>
<td align="right">-9.809601</td>
<td align="right">53.29959</td>
</tr>
<tr class="even">
<td>8</td>
<td align="right">10</td>
<td align="right">26</td>
<td align="right">21.744993</td>
<td align="right">-9.809601</td>
<td align="right">53.29959</td>
</tr>
<tr class="odd">
<td>9</td>
<td align="right">10</td>
<td align="right">34</td>
<td align="right">21.744993</td>
<td align="right">-9.809601</td>
<td align="right">53.29959</td>
</tr>
<tr class="even">
<td>10</td>
<td align="right">11</td>
<td align="right">17</td>
<td align="right">25.677401</td>
<td align="right">-5.768620</td>
<td align="right">57.12342</td>
</tr>
</tbody>
</table>
<p>Here is what it looks like when we represent confidence intervals and prediction intervals at the same time:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">my_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw">add_ci</span>(model, <span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;lcb&quot;</span>, <span class="st">&quot;ucb&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">add_pi</span>(model, <span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;lpb&quot;</span>, <span class="st">&quot;upb&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> speed, <span class="dt">y =</span> dist)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> pred), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;maroon&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="st">    </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> lpb, <span class="dt">ymax =</span> upb), <span class="dt">fill =</span> <span class="st">&quot;orange2&quot;</span>,</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">                <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="st">    </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> lcb, <span class="dt">ymax =</span> ucb), <span class="dt">fill =</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10">    <span class="st">&quot;royalblue1&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;Stopping Distance vs. Car Speed: 95% CI and 95% PI&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="st">    </span><span class="kw">xlab</span>(<span class="st">&quot;Car Speed (mph)&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;Stopping Distance (ft)&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>In the graph above, the blue confidence intervals show the uncertainty in the model fit itself (maroon line), and the orange prediction intervals shows where the model would predict 95% of new responses (Stopping Distances) to fall.</p>
</div>
<div id="response-probabilities" class="section level2">
<h2>Response Probabilities</h2>
<p>Often we want other quantities that depend on the conditional predictive distribution. These include response-level probabilities and response-level quantiles, which are accessed with the functions <code>add_probs</code> and <code>add_quantile</code> respectively.</p>
<p>For example, suppose in the <code>cars</code> data set, I want to know: For each Speed what is the probability that a new Stopping Distance will be less than 70 feet? This may be an important question if, for example, you’re in a car that is hurdling towards a cliff 70 feet away at some speed and you want to know what the probability is that you will be able to stop the car before going over the cliff. Luckily, with <code>add_probs()</code>, you can generate these estimates quickly, allowing you to understand your chance of survival before the problem becomes moot:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">my_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw">add_probs</span>(model, <span class="dt">q =</span> <span class="dv">70</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> speed, <span class="dt">y =</span> prob_less_than70)) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> prob_less_than70), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;maroon&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;Probability Stopping Distance is Less Than 70&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="st">    </span><span class="kw">xlab</span>(<span class="st">&quot;Car Speed (mph)&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;Pr(Dist &lt; 70)&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The new argument <code>q = *</code> is used to specify the quantile (70 feet in this case) used for computing the probabilities. It’s clear that the probability of surviving declines quickly after 15 mph. (This data set is from the 1920s. It is safer to drive toward cliffs in today’s vehicles).</p>
<p>Another optional argument is <code>comparison</code>, which defaults to <code>&quot;&lt;&quot;</code>. In this example, we wanted to know the probability that we’d be able to stop the car before it went over the cliff, which means a stopping distance less than 70 feet. If we were to specify <code>comparison = &quot;&gt;&quot;</code>, then <code>add_probs()</code> would return the probability that the stopping distance was greater than 70 feet.</p>
</div>
<div id="response-quantiles" class="section level2">
<h2>Response Quantiles</h2>
<p>On the other hand, suppose my car is hurdling toward a cliff, and I’m comfortable with stopping at whatever distance guarantees about 90% survivability given my speed. These distances are called response quantiles, and what we wish to compute is the 0.9-quantile (or the 90th percentile) of the distibution of Stopping Distances <em>conditional</em> on my car’s speed and the linear model. In <code>ciTools</code> we use the function <code>add_quantile</code> with the argument <code>p = 0.9</code> to calculate the 90th percentile of the predictive distibution for each row in the data set. These quantiles will be parallel to the bounds of the prediction intervals that we calculated previously.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">my_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw">add_pi</span>(model, <span class="dt">names =</span> <span class="kw">c</span>(<span class="st">&quot;lpb&quot;</span>, <span class="st">&quot;upb&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw">add_quantile</span>(model, <span class="dt">p =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> speed, <span class="dt">y =</span> dist)) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">2</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> pred), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;maroon&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="st">    </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> quantile0<span class="fl">.9</span>), <span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;forestgreen&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="st">    </span><span class="kw">geom_ribbon</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> lpb, <span class="dt">ymax =</span> upb), <span class="dt">fill =</span> <span class="st">&quot;orange2&quot;</span>,</a>
<a class="sourceLine" id="cb10-9" data-line-number="9">                <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="st">    </span><span class="kw">ggtitle</span>(<span class="st">&quot;Stopping Distance vs. Car Speed: 95% PI with 0.9-Quantile&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="st">    </span><span class="kw">xlab</span>(<span class="st">&quot;Car Speed (mph)&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="st">    </span><span class="kw">ylab</span>(<span class="st">&quot;Stopping Distance (ft)&quot;</span>)</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The 0.9 quantile lies slightly below the upper prediction bound, which in this case is the same as the 0.975-quantile. The red line is the prediction the linear model makes, which is the same as the 0.5-quantile in this case because our model assumes normally distributed errors.</p>
<p>The examples above have taken each piece of analysis one step at a time. However, because <code>ciTools</code> was built to be fully compatible with the <code>tidyverse</code>, these functions can easily be chained or “piped” together in clear, legible code:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">data_with_results &lt;-<span class="st"> </span>my_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span><span class="kw">add_ci</span>(model) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw">add_pi</span>(model) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw">add_probs</span>(model, <span class="dt">q=</span> <span class="dv">70</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span><span class="kw">add_quantile</span>(model, <span class="dt">p =</span> <span class="fl">0.9</span>) </a>
<a class="sourceLine" id="cb11-6" data-line-number="6"></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="kw">kable</span>(<span class="kw">head</span>(data_with_results))</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">speed</th>
<th align="right">dist</th>
<th align="right">pred</th>
<th align="right">LCB0.025</th>
<th align="right">UCB0.975</th>
<th align="right">LPB0.025</th>
<th align="right">UPB0.975</th>
<th align="right">prob_less_than70</th>
<th align="right">quantile0.9</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4</td>
<td align="right">2</td>
<td align="right">-1.849460</td>
<td align="right">-12.329543</td>
<td align="right">8.630624</td>
<td align="right">-34.49984</td>
<td align="right">30.80092</td>
<td align="right">0.9999723</td>
<td align="right">19.25192</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">10</td>
<td align="right">-1.849460</td>
<td align="right">-12.329543</td>
<td align="right">8.630624</td>
<td align="right">-34.49984</td>
<td align="right">30.80092</td>
<td align="right">0.9999723</td>
<td align="right">19.25192</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">4</td>
<td align="right">9.947766</td>
<td align="right">1.678977</td>
<td align="right">18.216556</td>
<td align="right">-22.06142</td>
<td align="right">41.95696</td>
<td align="right">0.9997778</td>
<td align="right">30.63476</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">22</td>
<td align="right">9.947766</td>
<td align="right">1.678977</td>
<td align="right">18.216556</td>
<td align="right">-22.06142</td>
<td align="right">41.95696</td>
<td align="right">0.9997778</td>
<td align="right">30.63476</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">16</td>
<td align="right">13.880175</td>
<td align="right">6.307527</td>
<td align="right">21.452823</td>
<td align="right">-17.95629</td>
<td align="right">45.71664</td>
<td align="right">0.9995553</td>
<td align="right">34.45554</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">10</td>
<td align="right">17.812584</td>
<td align="right">10.905121</td>
<td align="right">24.720047</td>
<td align="right">-13.87224</td>
<td align="right">49.49741</td>
<td align="right">0.9991164</td>
<td align="right">38.28995</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="scope-of-citools" class="section level1">
<h1>Scope of <code>ciTools</code></h1>
<p><code>ciTools</code> handles more than just linear models but the workflow is the same as the example above. Here is current status of development:</p>
<table style="width:100%;">
<colgroup>
<col width="22%"></col>
<col width="19%"></col>
<col width="19%"></col>
<col width="21%"></col>
<col width="17%"></col>
</colgroup>
<thead>
<tr class="header">
<th>Models</th>
<th align="center">Confidence Intervals</th>
<th align="center">Prediction Intervals</th>
<th align="center">Response Probabilities</th>
<th align="center">Response Quantiles</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Linear</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
</tr>
<tr class="even">
<td>Log-Linear</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
</tr>
<tr class="odd">
<td>GLM</td>
<td align="center">[X]</td>
<td align="center">[Poisson]</td>
<td align="center">[Poisson]</td>
<td align="center">[Poisson]</td>
</tr>
<tr class="even">
<td>Linear Mixed Model</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
</tr>
<tr class="odd">
<td>Log-Linear Mixed</td>
<td align="center">[TODO]</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
<td align="center">[X]</td>
</tr>
<tr class="even">
<td>Survival</td>
<td align="center">[TODO]</td>
<td align="center">[TODO]</td>
<td align="center">[TODO]</td>
<td align="center">[TODO]</td>
</tr>
<tr class="odd">
<td>Generalized Linear Mixed</td>
<td align="center">[TODO]</td>
<td align="center">[TODO]</td>
<td align="center">[TODO]</td>
<td align="center">[TODO]</td>
</tr>
</tbody>
</table>
<ul>
<li>[X] = complete, available now</li>
</ul>
</div>
<div id="installation" class="section level1">
<h1>Installation</h1>
<p>Open up <strong>R</strong> and run:</p>
<ol style="list-style-type: decimal">
<li><code>install.packages(&quot;ciTools&quot;)</code></li>
<li><code>library(ciTools)</code></li>
</ol>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
